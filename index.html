<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trading Indicator Tester - Multi-Timeframe</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>üìä Trading Indicator Tester</h1>
            <p>Analizza le performance degli indicatori su diversi timeframe con calcoli percentuali avanzati</p>
        </header>

        <!-- Timeframe Navigation -->
        <div class="timeframe-nav">
            <div class="timeframe-tabs">
                <button class="timeframe-tab" data-timeframe="M1">
                    <div class="tab-icon">‚ö°</div>
                    <div class="tab-label">M1</div>
                    <div class="tab-subtitle">1 Min</div>
                </button>
                <button class="timeframe-tab" data-timeframe="M3">
                    <div class="tab-icon">üî•</div>
                    <div class="tab-label">M3</div>
                    <div class="tab-subtitle">3 Min</div>
                </button>
                <button class="timeframe-tab" data-timeframe="M5">
                    <div class="tab-icon">üí®</div>
                    <div class="tab-label">M5</div>
                    <div class="tab-subtitle">5 Min</div>
                </button>
                <button class="timeframe-tab" data-timeframe="M15">
                    <div class="tab-icon">üéØ</div>
                    <div class="tab-label">M15</div>
                    <div class="tab-subtitle">15 Min</div>
                </button>
                <button class="timeframe-tab" data-timeframe="M30">
                    <div class="tab-icon">üî∂</div>
                    <div class="tab-label">M30</div>
                    <div class="tab-subtitle">30 Min</div>
                </button>
                <button class="timeframe-tab" data-timeframe="H1">
                    <div class="tab-icon">üïê</div>
                    <div class="tab-label">H1</div>
                    <div class="tab-subtitle">1 Ora</div>
                </button>
                <button class="timeframe-tab" data-timeframe="H4">
                    <div class="tab-icon">‚è∞</div>
                    <div class="tab-label">H4</div>
                    <div class="tab-subtitle">4 Ore</div>
                </button>
            </div>
        </div>

        <!-- Current Timeframe Indicator -->
        <div class="current-timeframe">
            Timeframe Corrente: <span class="current-tf-label" id="currentTimeframeDisplay">M1 - 1 Minuto</span>
        </div>

        <!-- Controls -->
        <div class="controls">
            <div class="control-group">
                <button id="addRowBtn" class="btn btn--primary">‚ûï Aggiungi Riga</button>
                <button id="clearCurrentBtn" class="btn btn--outline btn--danger">üóëÔ∏è Cancella Corrente</button>
                <button id="resetAllBtn" class="btn btn--outline btn--danger">üîÑ Reset Tutto</button>
            </div>
            <div class="control-group">
                <button id="exportAllBtn" class="btn btn--secondary">üì§ Esporta Tutto</button>
                <button id="exportCurrentBtn" class="btn btn--secondary">üì§ Esporta Corrente</button>
                <button id="importBtn" class="btn btn--secondary">üì• Importa</button>
                <input type="file" id="importFileInput" accept=".json" class="hidden">
            </div>
        </div>

        <!-- Trading Table -->
        <div class="table-container">
            <table class="trading-table">
                <thead>
                    <tr>
                        <th rowspan="2" class="date-header">Data e Orario</th>
                        <th rowspan="2" class="price-header">Prezzo Entrata</th>
                        <th colspan="5" class="stop-header">Stop Loss 30 Pips</th>
                        <th colspan="5" class="stop-header">Stop Loss 50 Pips</th>
                        <th colspan="5" class="stop-header">Stop Loss 75 Pips</th>
                        <th colspan="5" class="stop-header">Stop Loss 100 Pips</th>
                        <th rowspan="2" class="action-header">Azioni</th>
                    </tr>
                    <tr>
                        <!-- Stop Loss 30 Pips -->
                        <th class="rr-header">1:1</th>
                        <th class="rr-header">1:2</th>
                        <th class="rr-header">1:3</th>
                        <th class="rr-header">1:4</th>
                        <th class="rr-header">1:5</th>
                        <!-- Stop Loss 50 Pips -->
                        <th class="rr-header">1:1</th>
                        <th class="rr-header">1:2</th>
                        <th class="rr-header">1:3</th>
                        <th class="rr-header">1:4</th>
                        <th class="rr-header">1:5</th>
                        <!-- Stop Loss 75 Pips -->
                        <th class="rr-header">1:1</th>
                        <th class="rr-header">1:2</th>
                        <th class="rr-header">1:3</th>
                        <th class="rr-header">1:4</th>
                        <th class="rr-header">1:5</th>
                        <!-- Stop Loss 100 Pips -->
                        <th class="rr-header">1:1</th>
                        <th class="rr-header">1:2</th>
                        <th class="rr-header">1:3</th>
                        <th class="rr-header">1:4</th>
                        <th class="rr-header">1:5</th>
                    </tr>
                    <tr>
                        <th class="percentage-header">-</th>
                        <th class="percentage-header">-</th>
                        <!-- Stop Loss 30 Pips - Percentages -->
                        <th class="percentage-header" id="percentage-30-11">0%</th>
                        <th class="percentage-header" id="percentage-30-12">0%</th>
                        <th class="percentage-header" id="percentage-30-13">0%</th>
                        <th class="percentage-header" id="percentage-30-14">0%</th>
                        <th class="percentage-header" id="percentage-30-15">0%</th>
                        <!-- Stop Loss 50 Pips - Percentages -->
                        <th class="percentage-header" id="percentage-50-11">0%</th>
                        <th class="percentage-header" id="percentage-50-12">0%</th>
                        <th class="percentage-header" id="percentage-50-13">0%</th>
                        <th class="percentage-header" id="percentage-50-14">0%</th>
                        <th class="percentage-header" id="percentage-50-15">0%</th>
                        <!-- Stop Loss 75 Pips - Percentages -->
                        <th class="percentage-header" id="percentage-75-11">0%</th>
                        <th class="percentage-header" id="percentage-75-12">0%</th>
                        <th class="percentage-header" id="percentage-75-13">0%</th>
                        <th class="percentage-header" id="percentage-75-14">0%</th>
                        <th class="percentage-header" id="percentage-75-15">0%</th>
                        <!-- Stop Loss 100 Pips - Percentages -->
                        <th class="percentage-header" id="percentage-100-11">0%</th>
                        <th class="percentage-header" id="percentage-100-12">0%</th>
                        <th class="percentage-header" id="percentage-100-13">0%</th>
                        <th class="percentage-header" id="percentage-100-14">0%</th>
                        <th class="percentage-header" id="percentage-100-15">0%</th>
                        <th class="percentage-header">-</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Righe generate dinamicamente -->
                </tbody>
            </table>
        </div>

        <!-- Statistics -->
        <div class="statistics-container">
            <div class="statistics-header">
                <h3>üìà Statistiche Dettagliate</h3>
                <div class="stats-timeframe-info" id="statsTimeframeLabel">M1 - 1 Minuto</div>
            </div>
            <div class="stats-grid" id="statisticsContainer">
                <!-- Statistiche generate dinamicamente -->
            </div>
        </div>

        <!-- Instructions -->
        <div class="instructions">
            <p><strong>Istruzioni:</strong> Clicca sui cerchi per alternare tra Vuoto ‚Üí TP (Verde) ‚Üí SL (Rosso) ‚Üí Vuoto.</p>
            <p>Le statistiche e percentuali si aggiornano automaticamente.</p>
            <p><strong>Scorciatoie:</strong> Ctrl+N (nuova riga), Ctrl+Shift+C (cancella timeframe corrente)</p>
            <p><strong>Calcolo Percentuali:</strong> TP = valore RR%, SL = sempre 1%. Guadagno = (TP √ó RR%) - (SL √ó 1%)</p>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
